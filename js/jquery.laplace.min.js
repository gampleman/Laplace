var __bind=function(e,t){return function(){return e.apply(t,arguments)}};(function(e){var t;return e==null&&(e=jQuery),t=function(){function t(t,a){this.success=__bind(this.success,this),this.save=__bind(this.save,this),this.cancel=__bind(this.cancel,this),this.edit=__bind(this.edit,this);var i,l,s,n,c,h,r;for(this.el=e(t),r=["type","name","values","edit-label","save-label","cancel-label","url","method"],c=0,h=r.length;h>c;c++)s=r[c],this.setOption(s,a[s]);this.values=function(){var e,t,a,i,s;for(a=this.values,s=[],e=0,t=a.length;t>e;e++)n=a[e],Object.prototype.toString.call(n)==="[object Array]"?(i=n,l=i[0],n=i[1]):l=n,s.push([l,n]);return s}.call(this),i=e("<a href='#' class='laplace-edit-label'>"+this["edit-label"]+"</a>"),i.click(this.edit),this.el.parent().append(i),i.hide(),this.el.parent().hover(function(){return i.show()},function(){return i.hide()})}return t.prototype.setOption=function(e,t){var a;return this[e]=(a=this.el.closest("[data-"+e+"]").data(e))?a:t},t.prototype.edit=function(){var t,a,i,l,s;return this.el.parent().find(".laplace-edit-label").remove(),t=function(){switch(this.type){case"select":return i=function(){var e,t,i,l,n;for(i=this.values,n=[],e=0,t=i.length;t>e;e++)l=i[e],a=l[0],s=l[1],n.push('<option value="'+s+'" '+(this.el.text()===a?"selected":"")+">"+a+"</option>");return n}.call(this),'<select name="'+this.name+'">'+i.join("\n")+"</select>";case"radio-buttons":return i=function(){var e,t,i,n,c;for(i=this.values,c=[],e=0,t=i.length;t>e;e++)n=i[e],a=n[0],s=n[1],l=this.el.text()===a?"selected":"",c.push('<label><input type="radio" value="'+s+'" '+l+' name="'+this.name+'" />'+a+"</label>");return c}.call(this),i.join("\n");default:return'<input type="'+this.type+'" name="'+this.name+'" value="'+this.el.text()+'" />'}}.call(this),t+="<a href='#' class='laplace-save'>"+this["save-label"]+"</a> <a href='#' class='laplace-cancel'>"+this["cancel-label"]+"</a>",this.editor=e("<span>"+t+"</span>"),this.editor.find("a.laplace-cancel").click(this.cancel),this.editor.find("a.laplace-save").click(this.save),this.el.replaceWith(this.editor),!1},t.prototype.cancel=function(){var t;return this.editor.replaceWith(this.el),t=e("<a href='#' class='laplace-edit-label'>"+this["edit-label"]+"</a>"),t.click(this.edit),this.el.parent().append(t)},t.prototype.save=function(){var t,a;return t={},a=this.type==="radio-boxes"?this.editor.find("input:radio[name="+this.name+"]:checked").val():this.editor.find("[name="+this.name+"]").val(),t[this.name]=a,e.ajax({type:this.method,url:this.url,data:t,success:this.success}),this.cancel(),this.el.text(a)},t.prototype.success=function(e){return this.el.html(e)},t}(),e.fn.laplace=function(a){var i;return a==null&&(a={}),i=e.extend({},e.fn.laplace.defaults,a),this.each(function(){return this.laplace=new t(this,i)})},e.fn.laplace.defaults={type:"text","edit-label":"Edit","save-label":"Save","cancel-label":"Cancel",method:"POST",values:[]}})($)