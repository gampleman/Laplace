var __bind=function(t,e){return function(){return t.apply(e,arguments)}};(function(t){var e;return t==null&&(t=jQuery),e=function(){function e(e,a){this.success=__bind(this.success,this),this.save=__bind(this.save,this),this.cancel=__bind(this.cancel,this),this.edit=__bind(this.edit,this);var i,n,s,l,r,c;for(this.el=t(e),c=["type","name","values","edit-label","save-label","cancel-label","url","method"],l=0,r=c.length;r>l;l++)n=c[l],this.setOption(n,a[n]);this.values=function(){var t,e,a,n,l;for(a=this.values,l=[],t=0,e=a.length;e>t;t++)s=a[t],Object.prototype.toString.call(s)==="[object Array]"?(n=s,i=n[0],s=n[1]):i=s,l.push([i,s]);return l}.call(this),this.makeEditLink()}return e.prototype.setOption=function(t,e){var a;return this[t]=(a=this.el.closest("[data-"+t+"]").data(t))?a:e},e.prototype.makeEditLink=function(){var e;return e=t("<a href='#' class='laplace-edit-label'>"+this["edit-label"]+"</a>"),e.click(this.edit),this.el.parent().append(e),e.hide(),this.el.parent().hover(function(){return e.show()},function(){return e.hide()})},e.prototype.edit=function(){var e,a,i,n,s;return this.el.parent().find(".laplace-edit-label").remove(),e=function(){switch(this.type){case"select":return i=function(){var t,e,i,n,l;for(i=this.values,l=[],t=0,e=i.length;e>t;t++)n=i[t],a=n[0],s=n[1],l.push('<option value="'+s+'" '+(this.el.text()===a?"selected":"")+">"+a+"</option>");return l}.call(this),'<select name="'+this.name+'">'+i.join("\n")+"</select>";case"radio-buttons":return i=function(){var t,e,i,l,r;for(i=this.values,r=[],t=0,e=i.length;e>t;t++)l=i[t],a=l[0],s=l[1],n=this.el.text()===a?"checked":"",r.push('<label><input type="radio" value="'+s+'" '+n+' name="'+this.name+'" />'+a+"</label>");return r}.call(this),i.join("\n");case"textarea":return'<textarea name="'+this.name+'">'+this.el.text()+"</textarea>";default:return'<input type="'+this.type+'" name="'+this.name+'" value="'+this.el.text()+'" />'}}.call(this),e+="<a href='#' class='laplace-save'>"+this["save-label"]+"</a> <a href='#' class='laplace-cancel'>"+this["cancel-label"]+"</a>",this.editor=t("<span>"+e+"</span>"),this.editor.find("a.laplace-cancel").click(this.cancel),this.editor.find("a.laplace-save").click(this.save),this.el.replaceWith(this.editor),!1},e.prototype.cancel=function(){return this.editor.replaceWith(this.el),this.makeEditLink()},e.prototype.save=function(){var e,a;return e={},a=this.type==="radio-buttons"?this.editor.find("input:radio[name="+this.name+"]:checked").val():this.editor.find("[name="+this.name+"]").val(),e[this.name]=a,console.log(e),t.ajax({type:this.method,url:this.url,data:e,success:this.success}),this.cancel(),this.el.text(a)},e.prototype.success=function(t){return this.el.html(t)},e}(),t.fn.laplace=function(a){var i;return a==null&&(a={}),i=t.extend({},t.fn.laplace.defaults,a),this.each(function(){return this.laplace=new e(this,i)})},t.fn.laplace.defaults={type:"text","edit-label":"Edit","save-label":"Save","cancel-label":"Cancel",method:"POST",values:[]}})($)